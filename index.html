<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Test Form</title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
	<link rel="stylesheet" href="/css/style.css">
	<script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular-messages.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
	<script src="/js/module.js"></script>
	<script src="/js/controllers.js"></script>
	<script src="/js/services.js"></script>
</head>
<body ng-app='ccApp' ng-controller='ccCtrl'>
	<div class="container">
		<div id='header'>
			<h4>Don't Enter Your Credit Card Information!</h4>
		</div>

		<form name='userForm' ng-submit='submitUserForm(userForm.$invalid)' novalidate>
			
			<input ng-model='user.email' name='email' type="email" placeholder="Email@address.com" required>
			
			<span ng-show='userForm.$submitted' ng-messages='userForm.email.$error' role='alert'>
				<span ng-message="required">Please enter a valid email!</span>
			</span>

			<input ng-pattern='passRegex' ng-blur='checkPassword(userForm.user.password)' ng-model='user.password' name='password' type="text" placeholder="Password" required>

			<span ng-show='useForm.$submitted' ng-messages='userForm.password.$error' role='alert'>
				<span ng-message="required">Please enter a password!</span>
			</span>
			
			<input ng-model='user.conPass' name='conPass' type="text" placeholder="Reenter Password" required>
			<span ng-show='{{user.password !== user.conPass}}'>Passwords don't match!</span>
			
			<input ng-blur='checkCC(userForm.user.ccNum)' ng-model='user.ccNum' name=ccNum type='text' placeholder="Credit Card Number" required>
		
			<span ng-show='userForm.$submitted' ng-messages='user.ccNum.$error' role='alert'>
				<span ng-message="required">Please enter a valid credit card number!</span>
			</span>

			<label>Expiration Date:</label>
			<input ng-blur='checkExpDate(userForm.user.expDate)' ng-model='user.expDate' name='expDate' type='date' required>
			
			<span ng-show='userForm.$submitted' ng-messages='user.expDate.$error' role='alert'>
				<span ng-message="required">Please enter a valid expiration date!</span>
			</span>

			<input ng-model='user.cvv' name='cvv' type='text' placeholder="CVV" required>
			
			<span ng-show='userForm.$submitted' ng-messages='user.cvv.$error' role='alert'>
				<span ng-message="required">Please enter a valid CVV!</span>
			</span>

			<input ng-model='user.country' name='country' maxlength='2' type="text" placeholder="Country (e.g. US)" required>
			
			<span ng-show='userForm.$submitted' ng-messages='user.country.$error' role='alert'>
				<span ng-message="required">Please enter a valid country!</span>
			</span>
			
			<input ng-model='user.zipCode' name='zipCode' type='text' placeholder="Zip Code" required>
			
			<span ng-show='userForm.$submitted' ng-messages='user.zipCode.$error' role='alert'>
				<span ng-message="required">Please enter a valid zip code!</span>
			</span>

			<button ng-click='submitInfo()' class="btn waves-effect waves-light" type="submit">Submit
			  <i class="material-icons right">send</i>
		  </button>
		
		</form>

		<pre>{{userForm | json}}</pre>
	</div>
</body>
</html>